
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model MapViewModel

<h1>Map View</h1>

    @{
        
        var startlat = Model.StartLat;
        var startlng = Model.StartLng;
        var endlng = Model.EndLng;
        var endlat = Model.EndLat;

        var key = "AIzaSyAIuye8uznaqinBLqSaFxdr6u58oHdTBsg";
        // var length = Model.Routes[0].legs.Length - 1;
        var source = $"https://www.google.com/maps/embed/v1/directions?key={key}&mode=bicycling&avoid=highways&origin={startlat},{startlng}&destination={endlat},{endlng}&avoid=tolls|highways";
    }
    <iframe width="800"
            height="600"
            frameborder="0" style="border:2"
            src=@source>
    </iframe>
